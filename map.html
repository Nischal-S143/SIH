<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive India Map with Stats</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body { 
      margin: 0; 
      font-family: "Segoe UI", sans-serif; 
      background: #f8f9fc;
    }
    .container {
      display: flex;
      height: 100vh;
      width: 100%;
    }
    /* Map Section */
    #map {
      flex: 1;
      height: 100%;
    }

    /* Stats Section */
    .stats {
      width: 40%;
      padding: 40px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 20px;
    }
    .stat-card {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
      font-weight: bold;
      color: #001845;
      transition: transform 0.2s;
    }
    .stat-card:hover {
      transform: translateY(-4px);
    }
    .stat-card h2 {
      font-size: 32px;
      margin: 0;
    }
    .stat-card p {
      font-size: 16px;
      margin: 5px 0 0;
      font-weight: normal;
    }

    /* Gradient background variations */
    .gradient-main { background: linear-gradient(135deg, #dbeafe, #fee2e2); }
    .gradient-green { background: linear-gradient(135deg, #d1fae5, #e0f2fe); }
    .gradient-blue { background: linear-gradient(135deg, #e0e7ff, #f0f9ff); }
    .gradient-grey { background: linear-gradient(135deg, #e5e7eb, #f9fafb); }
    .gradient-yellow { background: linear-gradient(135deg, #fef9c3, #fef3c7); }

    /* Pulsing animation for circles */
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.3); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Enhanced tooltip styling with better positioning */
    .leaflet-tooltip {
      background: rgba(15, 23, 42, 0.95) !important;
      color: #ffffff !important;
      border: none !important;
      border-radius: 8px !important;
      padding: 12px !important;
      font-size: 13px !important;
      line-height: 1.5 !important;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
      max-width: 280px !important;
      z-index: 1000 !important;
    }
    
    .tooltip-title {
      font-weight: bold;
      font-size: 15px;
      margin-bottom: 8px;
      color: #fb923c;
    }

    /* Enhanced hover effects for states */
    .state-hover-effect {
      transform: scale(1.02) !important;
      transform-origin: center !important;
      filter: drop-shadow(0 8px 16px rgba(251, 146, 60, 0.4)) !important;
    }

    /* Smooth transitions for state polygons with enhanced effects */
    .leaflet-interactive {
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
      transform-origin: center !important;
    }

    .leaflet-interactive:hover {
      transform: scale(1.02) !important;
      filter: drop-shadow(0 8px 16px rgba(251, 146, 60, 0.3)) !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Map Section -->
    <div id="map"></div>

    <!-- Stats Section -->
    <div class="stats">
      <div class="stat-card gradient-main">
        <h2>118K+</h2>
        <p>Internship Opportunities</p>
      </div>
      <div style="display: flex; gap: 20px;">
        <div class="stat-card gradient-green" style="flex:1;">
          <h2>25</h2>
          <p>Sectors</p>
        </div>
        <div class="stat-card gradient-blue" style="flex:1;">
          <h2>36</h2>
          <p>States/UTs</p>
        </div>
      </div>
      <div style="display: flex; gap: 20px;">
        <div class="stat-card gradient-grey" style="flex:1;">
          <h2>734</h2>
          <p>Districts</p>
        </div>
        <div class="stat-card gradient-yellow" style="flex:1;">
          <h2>5</h2>
          <p>Qualifications</p>
        </div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Initialize map centered on India
    var map = L.map('map', { zoomControl: false }).setView([22.0, 79.0], 5);

    // Add OpenStreetMap tiles for normal map view
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors',
      opacity: 0.6
    }).addTo(map);

    // Predefined state coordinates and data
    var statesData = {
      'Andhra Pradesh': { lat: 15.9129, lng: 79.7400, population: '49.4M', capital: 'Amaravati', area: '160,205 km²', literacy: '67.4%' },
      'Arunachal Pradesh': { lat: 28.2180, lng: 94.7278, population: '1.4M', capital: 'Itanagar', area: '83,743 km²', literacy: '65.4%' },
      'Assam': { lat: 26.2006, lng: 92.9376, population: '31.2M', capital: 'Dispur', area: '78,438 km²', literacy: '72.2%' },
      'Bihar': { lat: 25.0961, lng: 85.3131, population: '104.1M', capital: 'Patna', area: '94,163 km²', literacy: '61.8%' },
      'Chhattisgarh': { lat: 21.2787, lng: 81.8661, population: '25.5M', capital: 'Raipur', area: '135,192 km²', literacy: '70.3%' },
      'Goa': { lat: 15.2993, lng: 74.1240, population: '1.5M', capital: 'Panaji', area: '3,702 km²', literacy: '88.7%' },
      'Gujarat': { lat: 22.2587, lng: 71.1924, population: '60.4M', capital: 'Gandhinagar', area: '196,244 km²', literacy: '78.0%' },
      'Haryana': { lat: 29.0588, lng: 76.0856, population: '25.4M', capital: 'Chandigarh', area: '44,212 km²', literacy: '75.6%' },
      'Himachal Pradesh': { lat: 31.1048, lng: 77.1734, population: '6.9M', capital: 'Shimla', area: '55,673 km²', literacy: '82.8%' },
      'Jharkhand': { lat: 23.6102, lng: 85.2799, population: '33.0M', capital: 'Ranchi', area: '79,716 km²', literacy: '66.4%' },
      'Karnataka': { lat: 15.3173, lng: 75.7139, population: '61.1M', capital: 'Bengaluru', area: '191,791 km²', literacy: '75.4%' },
      'Kerala': { lat: 10.8505, lng: 76.2711, population: '33.4M', capital: 'Thiruvananthapuram', area: '38,852 km²', literacy: '94.0%' },
      'Madhya Pradesh': { lat: 22.9734, lng: 78.6569, population: '72.6M', capital: 'Bhopal', area: '308,245 km²', literacy: '69.3%' },
      'Maharashtra': { lat: 19.7515, lng: 75.7139, population: '112.4M', capital: 'Mumbai', area: '307,713 km²', literacy: '82.3%' },
      'Manipur': { lat: 24.6637, lng: 93.9063, population: '2.9M', capital: 'Imphal', area: '22,327 km²', literacy: '79.2%' },
      'Meghalaya': { lat: 25.4670, lng: 91.3662, population: '3.0M', capital: 'Shillong', area: '22,429 km²', literacy: '74.4%' },
      'Mizoram': { lat: 23.1645, lng: 92.9376, population: '1.1M', capital: 'Aizawl', area: '21,081 km²', literacy: '91.3%' },
      'Nagaland': { lat: 26.1584, lng: 94.5624, population: '2.0M', capital: 'Kohima', area: '16,579 km²', literacy: '79.6%' },
      'Odisha': { lat: 20.9517, lng: 85.0985, population: '42.0M', capital: 'Bhubaneswar', area: '155,707 km²', literacy: '72.9%' },
      'Punjab': { lat: 31.1471, lng: 75.3412, population: '27.7M', capital: 'Chandigarh', area: '50,362 km²', literacy: '75.8%' },
      'Rajasthan': { lat: 27.0238, lng: 74.2179, population: '68.5M', capital: 'Jaipur', area: '342,239 km²', literacy: '66.1%' },
      'Sikkim': { lat: 27.5330, lng: 88.5122, population: '0.6M', capital: 'Gangtok', area: '7,096 km²', literacy: '81.4%' },
      'Tamil Nadu': { lat: 11.1271, lng: 78.6569, population: '72.1M', capital: 'Chennai', area: '130,060 km²', literacy: '80.1%' },
      'Telangana': { lat: 18.1124, lng: 79.0193, population: '35.0M', capital: 'Hyderabad', area: '112,077 km²', literacy: '66.5%' },
      'Tripura': { lat: 23.9408, lng: 91.9882, population: '3.7M', capital: 'Agartala', area: '10,486 km²', literacy: '87.2%' },
      'Uttar Pradesh': { lat: 26.8467, lng: 80.9462, population: '199.8M', capital: 'Lucknow', area: '240,928 km²', literacy: '67.7%' },
      'Uttarakhand': { lat: 30.0668, lng: 79.0193, population: '10.1M', capital: 'Dehradun', area: '53,483 km²', literacy: '78.8%' },
      'West Bengal': { lat: 22.9868, lng: 87.8550, population: '91.3M', capital: 'Kolkata', area: '88,752 km²', literacy: '76.3%' },
      'Delhi': { lat: 28.7041, lng: 77.1025, population: '16.8M', capital: 'New Delhi', area: '1,484 km²', literacy: '86.3%' },
      'Jammu and Kashmir': { lat: 34.0837, lng: 74.7973, population: '12.5M', capital: 'Srinagar', area: '55,673 km²', literacy: '68.7%' },
      'Ladakh': { lat: 34.1526, lng: 77.5771, population: '0.3M', capital: 'Leh', area: '59,146 km²', literacy: '62.5%' }
    };

    // Function to create animated dots
    function createAnimatedDot(state, data) {
      var circle = L.circleMarker([data.lat, data.lng], {
        radius: 8,
        fillColor: '#2563eb',
        color: '#ffffff',
        weight: 3,
        opacity: 1,
        fillOpacity: 0.8
      });

      // Add pulsing animation
      var pulseInterval = setInterval(function() {
        if (map.hasLayer(circle)) {
          circle.setRadius(circle.getRadius() === 8 ? 12 : 8);
          circle.setStyle({ fillOpacity: circle.options.fillOpacity === 0.8 ? 0.5 : 0.8 });
        } else {
          clearInterval(pulseInterval);
        }
      }, 1000);

      // Add hover events
      circle.on('mouseover', function() {
        var tooltipContent = `
          <div class="tooltip-title">${state}</div>
          <div><strong>Population:</strong> ${data.population}</div>
          <div><strong>Capital:</strong> ${data.capital}</div>
          <div><strong>Area:</strong> ${data.area}</div>
          <div><strong>Literacy Rate:</strong> ${data.literacy}</div>
        `;
        
        circle.bindTooltip(tooltipContent, { 
          permanent: false, 
          direction: 'top',
          offset: [0, -15]
        }).openTooltip();

        // Enhance on hover
        circle.setStyle({
          radius: 10,
          fillColor: '#1d4ed8',
          fillOpacity: 1
        });
      });

      circle.on('mouseout', function() {
        circle.closeTooltip();
        circle.setStyle({
          radius: 8,
          fillColor: '#2563eb',
          fillOpacity: 0.8
        });
      });

      return circle;
    }

    // Add all state dots to map
    Object.keys(statesData).forEach(function(state) {
      var data = statesData[state];
      var dot = createAnimatedDot(state, data);
      dot.addTo(map);
    });

    // Load India boundaries with interactive effects
    var indiaStatesUrl = 'https://raw.githubusercontent.com/geohacker/india/master/state/india_telengana.geojson';
    
    function onEachStateFeature(feature, layer) {
      var stateName = feature.properties.st_nm;
      
      // Add hover effects to state polygons
      layer.on('mouseover', function (e) {
        var layer = e.target;
        
        // Enhanced pop-out effect with light orange color
        layer.setStyle({
          weight: 4,
          color: '#fb923c', // Light orange border
          fillColor: '#fed7aa', // Very light orange fill
          fillOpacity: 0.8,
          dashArray: ''
        });
        
        // Bring to front for pop-out effect
        if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
          layer.bringToFront();
        }

        // Add CSS class for enhanced hover effects
        if (layer._path) {
          layer._path.classList.add('state-hover-effect');
        }

        // Show state tooltip
        var data = statesData[stateName];
        if (data) {
          var tooltipContent = `
            <div class="tooltip-title">${stateName}</div>
            <div><strong>Population:</strong> ${data.population}</div>
            <div><strong>Capital:</strong> ${data.capital}</div>
            <div><strong>Area:</strong> ${data.area}</div>
            <div><strong>Literacy Rate:</strong> ${data.literacy}</div>
          `;
          
          layer.bindTooltip(tooltipContent, { 
            permanent: false, 
            direction: 'auto',
            offset: [0, -5]
          }).openTooltip();
        }
      });

      layer.on('mouseout', function (e) {
        var layer = e.target;
        
        // Reset to original style
        layer.setStyle({
          color: '#000000',
          weight: 2,
          fillColor: 'transparent',
          fillOpacity: 0,
          dashArray: ''
        });

        // Remove CSS class
        if (layer._path) {
          layer._path.classList.remove('state-hover-effect');
        }
        
        layer.closeTooltip();
      });

      // Prevent click events
      layer.on('click', function (e) {
        e.originalEvent.preventDefault();
      });
    }
    
    fetch(indiaStatesUrl)
      .then(res => res.json())
      .then(data => {
        L.geoJSON(data, {
          style: {
            color: '#000000',
            weight: 2,
            fillColor: 'transparent',
            fillOpacity: 0
          },
          onEachFeature: onEachStateFeature
        }).addTo(map);
      })
      .catch(err => {
        console.log('Could not load state boundaries, but dots will still work');
      });

    // Restrict to India bounds
    var indiaBounds = [[6, 68], [37, 97]];
    map.setMaxBounds(indiaBounds);
    map.on('drag', function () {
      map.panInsideBounds(indiaBounds, { animate: false });
    });
  </script>
</body>
</html>